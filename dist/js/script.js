"use strict";let index,grid=document.getElementById("grid"),closeBtn=document.getElementById("close"),img=document.getElementsByClassName("block__img"),filters=document.getElementById("filters"),zoomBtn=document.getElementsByClassName("zoom"),block=document.getElementsByClassName("block"),bigImg=document.getElementById("bigImg"),body=document.querySelector("body"),zoomImg=document.getElementsByClassName("zoomed"),prevBtn=document.getElementsByClassName("prevBlock"),nextBtn=document.getElementsByClassName("nextBlock"),filterIconBtn=document.getElementById("filterIcon"),menuWrapper=document.getElementById("menuWrapper"),nav=document.getElementById("nav"),filterCloseBtn=document.getElementById("filterClose"),filtersItem=document.getElementsByClassName("filters__item"),folderArray=[],newImgMassive=[];for(let e=0;e<imagesMassive.length;e++){let t=Math.floor(Math.random()*(imagesMassive.length-e))+e,n=imagesMassive[t];imagesMassive[t]=imagesMassive[e],imagesMassive[e]=n;let s='<div class ="block">\n                    <img src="'+n+'" alt=""  class="block__img" />\n                    <div class=\'set\'>\n                      <img src="img/zoom.png" class="zoom" />\n                      <a href="'+n+'" download><img src="img/download.png" class="download" /></a>\n                      <div class="topLeft"></div>\n                      <div class="topRight"></div>\n                      <div class="bottomLeft"></div>\n                      <div class="bottomRight"></div>\n                    </div>\n                  </div>';grid.innerHTML+=s}for(let e=0;e<img.length;e++){let t=img[e].getAttribute("src").split("/")[1];folderArray.push(t);img[e].setAttribute("data-filter",t)}function unique(e){let t=[];for(let n of e)t.includes(n)||t.push(n);return t}let uniqueFn=unique(folderArray);uniqueFn.sort();for(let e=0;e<uniqueFn.length;e++){let t='<li class="filters__item" data-filter="'+uniqueFn[e]+'">'+uniqueFn[e]+"</li>";filters.innerHTML+=t}for(let e=0;e<filtersItem.length;e++){let t=filtersItem[e].innerHTML;function firstUpperLetter(e){return e?e[0].toUpperCase()+e.slice(1):e}filtersItem[e].innerHTML=firstUpperLetter(t)}function filter(){let e=this.getAttribute("data-filter");newImgMassive.length=0;for(let t=0;t<img.length;t++){let n=img[t].getAttribute("data-filter");e==n&&newImgMassive.push(img[t].getAttribute("src")),"all"==e?block[t].classList.remove("block_hide"):e!=n?block[t].classList.add("block_hide"):block[t].classList.remove("block_hide")}filterClose()}for(let e=0;e<filtersItem.length;e++)filtersItem[e].addEventListener("click",filter,!1);for(let e=0;e<zoomBtn.length;e++){function zoom(){if(0==newImgMassive.length)index=e;else for(let t=0;t<newImgMassive.length;t++){img[e].getAttribute("src")==newImgMassive[t]&&(index=t)}1==newImgMassive.length?(nextBtn[0].style="display: none;",prevBtn[0].style="display: none;"):index==img.length-1?(nextBtn[0].style="display: none;",prevBtn[0].style="display: block;"):0==index?(prevBtn[0].style="display: none;",nextBtn[0].style="display: block;"):(prevBtn[0].style="display: block;",nextBtn[0].style="display: block;"),bigImg.classList.add("bigImg"),bigImg.style="display: flex;";let t='<img id="zoomed" class="zoomed fadeIn" src="'+img[e].getAttribute("src")+'" />';bigImg.innerHTML+=t,body.classList.add("stop-scrolling")}zoomBtn[e].addEventListener("click",zoom,!1)}function prevNextImg(e){let t;index+=e,removeBigImg();let n='<img id="zoomed" class="zoomed fadeIn" src="'+(t=0==newImgMassive.length?img[index].getAttribute("src"):newImgMassive[index])+'" />';bigImg.innerHTML+=n,index==newImgMassive.length-1?(nextBtn[0].style="display: none;",prevBtn[0].style="display: block;"):index==img.length-1?(nextBtn[0].style="display: none;",prevBtn[0].style="display: block;"):0==index?(prevBtn[0].style="display: none;",nextBtn[0].style="display: block;"):(prevBtn[0].style="display: block;",nextBtn[0].style="display: block;")}function closeBigImg(){bigImg.classList.remove("bigImg"),bigImg.style="display: none;",body.classList.remove("stop-scrolling"),removeBigImg()}function removeBigImg(){for(let e=0;e<zoomImg.length;e++)zoomImg[e].parentNode.removeChild(zoomImg[e])}function filterOpen(){menuWrapper.classList.add("menuWrapper__show"),nav.classList.add("nav__show"),body.classList.add("stop-scrolling")}function filterClose(){menuWrapper.classList.remove("menuWrapper__show"),nav.classList.remove("nav__show"),body.classList.remove("stop-scrolling")}function backToTop(){window.pageYOffset>0&&(window.scrollBy(0,-100),setTimeout(backToTop,10))}document.addEventListener("keyup",e=>{const t=e.key;"ArrowLeft"===t&&index>0?prevNextImg(-1):"ArrowRight"===t&&index<img.length-1&&0==newImgMassive.length?prevNextImg(1):"ArrowRight"===t&&index<newImgMassive.length-1&&prevNextImg(1)}),document.addEventListener("keyup",e=>{"Escape"===e.key&&closeBigImg()}),filterIconBtn.addEventListener("click",filterOpen,!1),filterCloseBtn.addEventListener("click",filterClose,!1);let toTop=document.getElementsByClassName("header__caption");toTop[0].addEventListener("click",backToTop,!1);